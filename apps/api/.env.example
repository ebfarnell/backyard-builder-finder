# ================================================
# Backyard Builder Finder API Environment Variables
# ================================================

# ========================
# GENERAL
# ========================

ENVIRONMENT=development
DEBUG=true
VERSION=1.0.0

# ========================
# DATABASE
# ========================

DATABASE_URL=postgresql+asyncpg://bbf_dev:bbf_dev@localhost:5432/bbf_dev
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=0
DATABASE_POOL_RECYCLE=300

# ========================
# REDIS CACHE
# ========================

REDIS_URL=redis://localhost:6379/0
CACHE_TTL_SECONDS=3600

# ========================
# SECURITY
# ========================

JWT_SECRET=dev-jwt-secret-change-in-production-use-32-char-random-string
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
ALLOWED_HOSTS=*

# API Keys encryption (KMS in production)
ENCRYPTION_KEY=dev-encryption-key-change-in-production
KMS_KEY_ID=

# ========================
# EXTERNAL SERVICES
# ========================

# AWS
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# S3 Buckets (created by Terraform)
S3_EXPORTS_BUCKET=
S3_CACHE_BUCKET=

# LLM Providers (fallback when user keys not available)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# Geocoding services
NOMINATIM_USER_AGENT=BackyardBuilderFinder/1.0
NOMINATIM_BASE_URL=https://nominatim.openstreetmap.org

# ========================
# FEATURE FLAGS
# ========================

ENABLE_CV_PROCESSING=false
ENABLE_LLM_PROCESSING=true
ENABLE_PORTAL_SCRAPING=false

# ========================
# PERFORMANCE & LIMITS
# ========================

# Rate limits
MAX_CONCURRENT_SEARCHES_PER_ORG=5
MAX_PARCELS_PER_SEARCH=10000
MAX_SEARCH_AREA_SQKM=100.0

# Processing timeouts
SEARCH_TIMEOUT_SECONDS=600
CV_OPERATION_TIMEOUT_SECONDS=30
LLM_REQUEST_TIMEOUT_SECONDS=30

# Cost controls
MAX_CV_OPERATIONS_PER_SEARCH=100
MAX_LLM_TOKENS_PER_SEARCH=10000

# ========================
# MONITORING
# ========================

LOG_LEVEL=INFO
ENABLE_METRICS=true
SENTRY_DSN=